---
import type { Projects } from "../helpers/type";
import GitHub from "../components/icons/IconGitHub.astro";
import { Icon } from "astro-icon/components";

interface Props {
  data: Projects;
  t: (key: string) => string;
}
const { data, t } = Astro.props;
---

<article
  class="w-full sm:w-60 md:w-64 lg:w-72 xl:w-80
         rounded-xl shadow-sm hover:shadow-md transition-all duration-300 p-4
         border border-white/10 bg-[#1c1c1d]"
>
  <!-- Header -->
  <div class="flex flex-col gap-0.5 mb-3">
    <h3 class="text-lg md:text-xl font-semibold text-white">
      {t(data.name)}
    </h3>

    <span class="text-xs font-medium text-gray-300">
      {t(data.status)}
    </span>

    <span class="text-[10px] text-gray-400">
      {data.startDate} – {data.endDate}
    </span>
  </div>

  <!-- Descripción -->
  <p class="text-gray-200 text-[11px] leading-relaxed mb-4">
    {t(data.description)}
  </p>

  <!-- Tecnologías responsivas -->
  <div class="flex flex-wrap gap-2 mb-4 w-full">
    {
      data.technologies?.map((tech) => (
        <span
          class="flex items-center justify-center
               w-9 h-9 sm:w-10 sm:h-10
               bg-white/10 border border-white/10 rounded-xl
               hover:bg-white/20 transition-all duration-300 shadow-lg"
        >
          <Icon
            name={tech.logo}
            class="w-5 h-5 sm:w-6 sm:h-6 text-white drop-shadow-xl"
          />
        </span>
      ))
    }
  </div>

  <!-- Botones FULL WIDTH SIEMPRE -->
  <div class="flex flex-col gap-2 w-full">
    <a
      href={data.link}
      target="_blank"
      rel="noopener noreferrer"
      class="w-full flex items-center justify-center gap-2
             text-white bg-white/10 hover:bg-white/20
             px-3 py-2 rounded-md text-xs font-medium
             transition-all duration-300 border border-white/10"
    >
      <div class="relative w-3 h-3">
        <span
          class="absolute inline-flex w-full h-full rounded-full bg-white opacity-30 animate-ping"
        ></span>
        <span class="relative inline-flex w-full h-full rounded-full bg-white"
        ></span>
      </div>
      Live
    </a>

    <a
      href={data.github}
      target="_blank"
      rel="noopener noreferrer"
      class="w-full flex items-center justify-center gap-2
             text-white bg-white/10 hover:bg-white/20
             px-3 py-2 rounded-md text-xs font-medium
             transition-all duration-300 border border-white/10"
    >
      <GitHub class="w-3.5 h-3.5 text-white" />
      GitHub
    </a>
  </div>
</article>
